<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- SEO 기본 -->
    <title>HODU SUPER</title>
    <meta name="description" content="팀프로젝트로 제작한 오픈쇼핑몰 호두슈퍼입니다." />
    <meta name="keywords" content="호두슈퍼,팀프로젝트,러닝메이트" />
    <meta name="author" content="러닝메이트" />

    <!-- Open Graph (SNS 공유용) -->
    <meta property="og:title" content="HODUSUPER" />
    <meta property="og:description" content="2차 팀프로젝트 호두슈퍼 - 러닝메이트" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://yeaseula.github.io/HoduSuper/assets/images/og-image.jpg">
    <meta property="og:url" content="https://yeaseula.github.io/HoduSuper/">
    <link rel="icon" href="https://yeaseula.github.io/HoduSuper/assets/images/favicon.png" type="image/x-icon">
    <style>
      .loading {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(255,255,255,0.99);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .spinner {
        width: 50px;
        height: 50px;
        border: 6px solid #ddd;
        border-top: 6px solid #21bf48;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0%   { transform: rotate(0deg) scale(1); }
        50%  { transform: rotate(180deg) scale(1.3); }
        100% { transform: rotate(360deg) scale(1); }
      }

      .loading p {
        margin-top: 25px;
        font-size: 1.8rem;
        color: #333;
        font-weight: 500;
      }
    </style>

    <!-- CSS preload -->
    <link rel="preload" href="./assets/css/reset.css" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="./assets/css/common.css" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="./assets/css/fonts.css" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="./assets/css/header.css" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="./assets/css/main.css" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="./assets/css/footer.css" as="style" onload="this.rel='stylesheet'">
    <noscript>
      <link rel="stylesheet" href="./assets/css/reset.css">
      <link rel="stylesheet" href="./assets/css/common.css">
      <link rel="stylesheet" href="./assets/css/fonts.css">
      <link rel="stylesheet" href="./assets/css/header.css">
      <link rel="stylesheet" href="./assets/css/main.css">
      <link rel="stylesheet" href="./assets/css/footer.css">
    </noscript>
    <link rel="stylesheet" href="./components/MiniAlert.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <script type="module" src="./assets/js/common.js"></script>
    <script src="./assets/js/api.js" defer></script>
    <script src="./assets/js/product-list.js" defer></script>

  </head>
  <body>
    <section class="loading" style="display: none;">
      <h2 class="sr-only">화면 로딩 표시입니다</h2>
      <div class="spinner"></div>
      <p>로딩 중...</p>
    </section>
    <div class="header"></div>
    <!-- ===== 메인 콘텐츠 영역 ===== -->
    <main class="main">
      <section class="main-banner" aria-label="메인 프로모션 배너">
        <h2 class="sr-only">메인 프로모션 배너</h2>
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="./assets/images/slide1.jpg" alt="메인 프로모션 배너 1"/>
            </div>
            <div class="swiper-slide">
              <img src="./assets/images/slide2.jpg" alt="신상품 안내 배너" />
            </div>
            <div class="swiper-slide">
              <img src="./assets/images/slide3.jpg" alt="특가 상품 배너" />
            </div>
            <div class="swiper-slide">
              <img src="./assets/images/slide4.jpg" alt="이벤트 배너" />
            </div>
            <div class="swiper-slide">
              <img src="./assets/images/slide5.jpg" alt="브랜드 소개 배너" />
            </div>
          </div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-pagination"></div>
        </div>
      </section>

      <div class="wide-container">
        <section class="main-products" aria-labelledby="main-products-title">
          <h2 id="main-products-title" class="sr-only">주요 상품</h2>
          <div class="products-grid"></div>
        </section>
      </div>
    </main>
    <div class="footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded',function() {
        var swiper = new Swiper(".mySwiper", {
          slidesPerView: 1,
          spaceBetween: 30,
          effect: "fade",
          loop: true,
          autoplay: {
            delay: 2000,
            disableOnInteraction: false,
          },
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          },
          a11y: {
            enabled: true,
            prevSlideMessage: "이전 슬라이드",
            nextSlideMessage: "다음 슬라이드",
            firstSlideMessage: "첫 번째 슬라이드입니다",
            lastSlideMessage: "마지막 슬라이드입니다",
            paginationBulletMessage: "슬라이드 {{index}}번 보기",
          },
        });

        swiper.on('slideChangeTransitionEnd', function () {
            const activeSlide = this.slides[this.activeIndex];
            const firstFocusableElement = activeSlide.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
            if (firstFocusableElement) {
                firstFocusableElement.focus();
            }
        });
        function updateInertAttribute(swiper) {
            swiper.slides.forEach((slide, index) => {
                if (index === swiper.activeIndex) {
                    slide.removeAttribute('inert');
                } else {
                    slide.setAttribute('inert', '');
                }
            });
        }

        swiper.on('slideChange', function () {
            updateInertAttribute(this);
        });

        // 초기 로드 시에도 적용
        updateInertAttribute(swiper);
      })

    </script>
  </body>
</html>
